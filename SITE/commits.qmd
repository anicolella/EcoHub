---
title: "Commits"
page-layout: article
---

## Hist√≥rico de Commits

Visualiza√ß√£o interativa do hist√≥rico de commits de todos os branches do projeto EcoHub.

```{=html}
<style>
  .controls {
    margin-bottom: 20px;
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
    align-items: flex-end;
  }
  
  .control-group {
    display: flex;
    flex-direction: column;
    gap: 5px;
  }
  
  .control-group label {
    font-weight: 600;
    font-size: 0.9rem;
  }
  
  .control-group input,
  .control-group select {
    padding: 8px 12px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 0.9rem;
  }
  
  .btn-reset {
    padding: 8px 16px;
    background: #0284c7;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 600;
    transition: background 0.2s;
  }

  .token-actions {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    align-items: center;
  }

  .token-actions input {
    min-width: 240px;
  }

  .token-hint {
    font-size: 0.8rem;
    color: #666;
  }
  
  .btn-reset:hover {
    background: #0570c9;
  }

  .nav-tabs {
    display: flex;
    gap: 10px;
    margin: 20px 0;
    border-bottom: 2px solid #e5e7eb;
    padding-bottom: 0;
  }

  .nav-tab {
    padding: 12px 20px;
    background: none;
    border: none;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    color: #666;
    border-bottom: 3px solid transparent;
    transition: all 0.2s;
  }

  .nav-tab:hover {
    color: #0284c7;
  }

  .nav-tab.active {
    color: #0284c7;
    border-bottom-color: #0284c7;
  }

  .tab-content {
    display: none;
    padding: 20px 0;
  }

  .tab-content.active {
    display: block;
  }


  .table-search {
    margin-bottom: 15px;
  }

  .table-search input {
    width: 100%;
    max-width: 300px;
    padding: 10px 15px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 0.95rem;
  }

  .table-wrapper {
    overflow-x: auto;
  }

  .commits-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9rem;
  }

  .commits-table thead {
    background: #f9fafb;
  }

  .commits-table th {
    padding: 12px;
    text-align: left;
    font-weight: 600;
    border-bottom: 2px solid #e5e7eb;
    cursor: pointer;
    color: #065f46;
  }

  .commits-table td {
    padding: 12px;
    border-bottom: 1px solid #e5e7eb;
  }

  .commits-table code {
    background: #f3f4f6;
    padding: 2px 6px;
    border-radius: 3px;
    font-family: monospace;
  }

  .commits-table a {
    color: #0284c7;
    text-decoration: none;
  }

  .heatmap {
    padding: 20px;
  }

  .heatmap-scale {
    margin-bottom: 15px;
    font-size: 0.9rem;
    color: #666;
  }

  .heatmap-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
  }

  .heatmap-cell {
    width: 60px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    border: 1px solid #ddd;
    font-size: 0.75rem;
    color: white;
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
    cursor: pointer;
  }

  .charts-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
  }

  .chart-container {
    background: #f9fafb;
    padding: 20px;
    border-radius: 8px;
  }

  .chart-container h4 {
    margin: 0 0 20px 0;
    color: #1f2937;
  }

  .bar-chart {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
  }

  .bar-chart label {
    min-width: 120px;
    font-size: 0.9rem;
    font-weight: 600;
  }

  .bar-chart .bar {
    height: 24px;
    background: linear-gradient(90deg, #065f46, #0284c7);
    border-radius: 4px;
    min-width: 50px;
  }

  .bar-chart span {
    min-width: 30px;
    text-align: right;
    font-weight: 600;
    color: #065f46;
  }

  .loading {
    text-align: center;
    padding: 20px;
    color: #666;
  }
</style>

<div class="controls">
  <div class="control-group">
    <label for="author-filter">Filtrar por Autor:</label>
    <select id="author-filter">
      <option value="">Todos os autores</option>
    </select>
  </div>
  
  <div class="control-group">
    <label for="date-from">Data de:</label>
    <input type="date" id="date-from">
  </div>
  
  <div class="control-group">
    <label for="date-to">Data at√©:</label>
    <input type="date" id="date-to">
  </div>
  
  <button class="btn-reset" onclick="resetFilters()">Resetar Filtros</button>

  <div class="control-group">
    <label for="token-input">Token GitHub (opcional):</label>
    <div class="token-actions">
      <input type="password" id="token-input" placeholder="ghp_xxx" autocomplete="off">
      <button class="btn-reset" style="background:#065f46" onclick="applyToken()">Usar token</button>
      <button class="btn-reset" style="background:#9ca3af" onclick="clearToken()">Limpar</button>
    </div>
    <span class="token-hint">Armazenado apenas no seu navegador para evitar rate limit.</span>
  </div>
</div>

<div class="nav-tabs">
  <button class="nav-tab active" onclick="switchTab('table')">üìä Tabela</button>
  <button class="nav-tab" onclick="switchTab('heatmap')">üî• Heatmap</button>
  <button class="nav-tab" onclick="switchTab('charts')">üìà Gr√°ficos</button>
</div>

<div class="loading" id="loading">‚è≥ Carregando commits do GitHub...</div>

<div id="tab-table" class="tab-content active">
  <div id="table-content"></div>
</div>

<div id="tab-heatmap" class="tab-content">
  <div id="heatmap-content"></div>
</div>

<div id="tab-charts" class="tab-content">
  <div id="charts-content"></div>
</div>

<script>
  // Opcional: defina um token p√∫blico para evitar rate limit da API do GitHub
  // window.GITHUB_TOKEN = 'coloque_seu_token_aqui';

  // Preenche input com token salvo (localStorage) e conecta com setGithubToken
  function setTokenInputFromStorage() {
    const saved = localStorage.getItem('github_token') || '';
    const inp = document.getElementById('token-input');
    if (inp) inp.value = saved;
  }

  function applyToken() {
    const val = (document.getElementById('token-input')?.value || '').trim();
    if (window.setGithubToken) {
      window.setGithubToken(val);
    } else {
      localStorage.setItem('github_token', val);
      location.reload();
    }
  }

  function clearToken() {
    const inp = document.getElementById('token-input');
    if (inp) inp.value = '';
    if (window.setGithubToken) {
      window.setGithubToken('');
    } else {
      localStorage.removeItem('github_token');
      location.reload();
    }
  }

  window.addEventListener('DOMContentLoaded', setTokenInputFromStorage);
</script>
<script src="tracker/commit-graph.js"></script>
```
